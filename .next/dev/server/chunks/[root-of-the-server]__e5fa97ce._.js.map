{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hriitik/Desktop/aroma-chai-franchise---premium-landing-page/src/app/api/contact/route.ts"],"sourcesContent":["import nodemailer from 'nodemailer';\r\nimport { NextResponse } from 'next/server';\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const data = await request.json();\r\n    const { fullName, email, whatsappNumber, city, investmentCapacity } = data || {};\r\n\r\n    if (!fullName || !email || !whatsappNumber || !city || !investmentCapacity) {\r\n      return NextResponse.json({ error: 'Missing required fields' }, { status: 400 });\r\n    }\r\n\r\n    const transporter = nodemailer.createTransport({\r\n      host: process.env.SMTP_HOST,\r\n      port: process.env.SMTP_PORT ? Number(process.env.SMTP_PORT) : 587,\r\n      secure: process.env.SMTP_SECURE === 'true',\r\n      auth: {\r\n        user: process.env.SMTP_USER,\r\n        pass: process.env.SMTP_PASS,\r\n      },\r\n    });\r\n\r\n    const to = process.env.RECEIVER_EMAIL || process.env.SMTP_USER;\r\n\r\n    const html = `\r\n      <h2>New Franchise Enquiry</h2>\r\n      <p><strong>üë§ Name:</strong>  ${fullName}</p>\r\n      <p><strong>üìß Email:</strong> ${email}</p>\r\n      <p><strong>üìû Mobile / WhatsApp:</strong>${whatsappNumber}</p>\r\n      \r\n      <p><strong>üìç Preferred City:</strong> ${city}</p>\r\n\r\n      <p><strong>üí∞ Investment Capacity:</strong>${investmentCapacity}</p>\r\n\r\n      <br/>\r\n\r\n      <p><strong>‚è∞ Lead Source:</strong>\r\n      <br/>Website ‚Äì Franchise Enquiry Form\r\n      </p>\r\n\r\n      <p><strong>üìù Notes:</strong><br/>Please contact the lead within 24 hours for better conversion\r\n      </p>\r\n\r\n    `;\r\n    await transporter.sendMail({\r\n      from: process.env.SMTP_USER,\r\n      to,\r\n      subject: 'New Franchise Enquiry',\r\n      html,\r\n    });\r\n\r\n    return NextResponse.json({ ok: true });\r\n  } catch (err) {\r\n    console.error('Error sending contact email:', err);\r\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,IAAI,EAAE,kBAAkB,EAAE,GAAG,QAAQ,CAAC;QAE/E,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,kBAAkB,CAAC,QAAQ,CAAC,oBAAoB;YAC1E,OAAO,2NAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QAC/E;QAEA,MAAM,cAAc,uOAAU,CAAC,eAAe,CAAC;YAC7C,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS,GAAG,OAAO,QAAQ,GAAG,CAAC,SAAS,IAAI;YAC9D,QAAQ,QAAQ,GAAG,CAAC,WAAW,KAAK;YACpC,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;gBAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC7B;QACF;QAEA,MAAM,KAAK,QAAQ,GAAG,CAAC,cAAc,IAAI,QAAQ,GAAG,CAAC,SAAS;QAE9D,MAAM,OAAO,CAAC;;oCAEkB,EAAE,SAAS;oCACX,EAAE,MAAM;+CACG,EAAE,eAAe;;6CAEnB,EAAE,KAAK;;iDAEH,EAAE,mBAAmB;;;;;;;;;;;IAWlE,CAAC;QACD,MAAM,YAAY,QAAQ,CAAC;YACzB,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC3B;YACA,SAAS;YACT;QACF;QAEA,OAAO,2NAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAK;IACtC,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,2NAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF"}}]
}